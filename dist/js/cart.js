"use strict";for(var a=document.querySelector("nav>header"),a1=a.querySelectorAll("ul")[0],a2=a1.querySelectorAll("li>a"),i=0;i<a2.length;i++)a2[i].onmouseenter=function(){this.style.color="white"},a2[i].onmouseleave=function(){this.style.color=""};var ewm=a.querySelector(".erweima");a2[2].onmouseenter=function(){ewm.style.display="block",a2[2].style.color="white"},a2[2].onmouseleave=function(){ewm.style.display="",a2[2].style.color=""};for(var b=a.querySelectorAll("ul")[1],b1=b.querySelectorAll("li>a"),_i=0;_i<b1.length;_i++)b1[_i].onmouseenter=function(){this.style.color="white"},b1[_i].onmouseleave=function(){this.style.color=""};for(var c=a.querySelectorAll("li>div"),c1=a.querySelectorAll("li>div>a"),_i2=0;_i2<c.length;_i2++)c[_i2].onmouseenter=function(){this.style.backgroundColor="white",this.style.color="red",this.children[1].style.display="block"},c[_i2].onmouseleave=function(){this.style.backgroundColor="",this.style.color="",this.children[1].style.display="none"};for(var sec=a.querySelectorAll(".sec"),second=a.querySelectorAll(".sec>a"),_loop=function(t){second[t].onmouseenter=function(){second[t].style.color="red"},second[t].onmouseleave=function(){second[t].style.color=""}},_i3=0;_i3<second.length;_i3++)_loop(_i3);var i1=a.querySelector(".more>.sec>i"),i2=a.querySelectorAll(".more>.sec>a");i2[1].onmouseenter=function(){i1.style.display="block",i2[1].style.color="red"},i2[1].onmouseleave=function(){i1.style.display="",i2[1].style.color=""};var i3=a.querySelector(".more>.sec>em");i2[2].onmouseenter=function(){i3.style.display="block",i2[2].style.color="red"},i2[2].onmouseleave=function(){i3.style.display="",i2[2].style.color=""},$(".header>.shop").mouseenter(function(){$(".header>.shop").css({color:"red",backgroundColor:"rgba(255,0,0,.1)"})}),$(".header>.shop").mouseleave(function(){$(".header>.shop").css({color:"",backgroundColor:""})}),$(".selectAll").prop("checked",!1);var cartList=JSON.parse(localStorage.getItem("cartList"));function bindHtml(){var t=cartList.every(function(t){return console.log(t),!0===t.isSelect}),e='\n    <p class="aa">我的购物车</p>\n    <div class="top">\n      <input class="selectAll" type="checkbox" '.concat(t?"checked":"",'>   全选\n      <strong>商品信息</strong>\n      <ul><li>单价(元)</li><li>数量</li><li>金额</li><li>操作</li></ul>\n    </div>\n    <ul class="center">\n  ');cartList.forEach(function(t){e+='\n      <li>\n        <div class="select">\n          <input data-id='.concat(t.id,' class="selectOne" type="checkbox" ').concat(t.isSelect?"checked":"",'>\n        </div>\n        <div class="info">\n          <img src="').concat(t.img,'" alt="">\n          <p>').concat(t.name,'</p>\n        </div>\n        <p class="price">').concat(t.price,'</p>\n        <div class="number">\n          <button class="sub" data-id=').concat(t.id,'>-</button>\n          <input type="text" value="').concat(t.number,'">\n          <button class="add" data-id=').concat(t.id,'>+</button>\n        </div>\n        <p class="xiaoji">￥： ').concat(t.xiaoji.toFixed(2),'</p>\n        <div class="del" data-id=').concat(t.id,">删除</div>\n      </li>\n    ")});var c=cartList.filter(function(t){return t.isSelect}),i=0,o=0;c.forEach(function(t){i+=t.number,o+=t.xiaoji}),e+='\n    </ul>\n    <div class="bottom">\n      <p>已选商品  <span>'.concat(i,"</span></p>\n      <p>总价(不含运费)： <span>￥： ").concat(o.toFixed(2),'</span></p>\n      <button class="pay" ').concat(c.length?"":"disabled",'>去结算</button>\n      <button class="clear">清空购物车</button>\n    </div>\n  '),$(".cart").html(e)}function bindEvent(){$(".cart").on("change",".selectAll",function(){var e=this;cartList.forEach(function(t){t.isSelect=e.checked}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart").on("change",".selectOne",function(){var e=$(this).data("id");cartList.forEach(function(t){t.id===e&&(t.isSelect=!t.isSelect)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart").on("click",".sub",function(){var e=$(this).data("id");cartList.forEach(function(t){t.id===e&&(1<t.number&&t.number--,t.xiaoji=t.price*t.number)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart").on("click",".add",function(){var e=$(this).data("id");cartList.forEach(function(t){t.id===e&&(t.number++,t.xiaoji=t.number*t.price)}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList))}),$(".cart").on("click",".del",function(){var e=$(this).data("id");cartList.forEach(function(t){t.id===e&&cartList.splice(t,1),0===cartList.length&&($(".selectAll").prop("checked",!1),console.log(1))}),bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList)),$(".selectAll").prop("checked",!1)}),$(".cart").on("click",".clear",function(){cartList.length=0,bindHtml(),localStorage.setItem("cartList",JSON.stringify(cartList)),$(".selectAll").prop("checked",!1)})}cartList?(bindHtml(),bindEvent()):alert("您还没有加入商品到购物车，快去首页找找吧"),$(".selectAll").prop("checked",!1);